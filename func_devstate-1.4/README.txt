Copy func_devstate.c into the funcs directory of the Asterisk 1.4 source.
Then, compile it as usual.  The build system will automatically compile
this module.  If it doesn't get built, run "make menuselect", and enable it.

Have fun!

--
Russell

